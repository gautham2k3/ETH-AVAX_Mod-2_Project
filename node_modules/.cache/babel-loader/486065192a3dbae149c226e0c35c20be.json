{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BommaliGauthamnaidu\\\\Downloads\\\\Module2_Chapter4\\\\src\\\\BankApp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport styles from './Bank.module.css';\nimport simple_token_abi from './Contracts/bank_app_abi.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BankApp = () => {\n  _s();\n\n  let contractAddress = '0x5FbDB2315678afecb367f032d93F642f64180aa3';\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [defaultAccount, setDefaultAccount] = useState(null);\n  const [connButtonText, setConnButtonText] = useState('Connect Wallet');\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [contract, setContract] = useState(null);\n  const [transferHash, setTransferHash] = useState(null);\n  const [checkAcc, setCheckAcc] = useState(\"false\");\n  const [accStatus, setAccStatus] = useState(\"\");\n  const [accbalance, setAccBalance] = useState(\"\");\n\n  const connectWalletHandler = () => {\n    if (window.ethereum && window.ethereum.isMetaMask) {\n      window.ethereum.request({\n        method: 'eth_requestAccounts'\n      }).then(result => {\n        accountChangedHandler(result[0]);\n        setConnButtonText('Wallet Connected');\n      }).catch(error => {\n        setErrorMessage(error.message);\n      });\n    } else {\n      console.log('Need to install MetaMask');\n      setErrorMessage('Please install MetaMask browser extension');\n    }\n  };\n\n  const accountChangedHandler = newAccount => {\n    setDefaultAccount(newAccount);\n    updateEthers();\n  };\n\n  const chainChangedHandler = () => {\n    window.location.reload();\n  };\n\n  window.ethereum.on('accountsChanged', accountChangedHandler);\n  window.ethereum.on('chainChanged', chainChangedHandler);\n\n  const updateEthers = () => {\n    let tempProvider = new ethers.providers.Web3Provider(window.ethereum);\n    setProvider(tempProvider);\n    let tempSigner = tempProvider.getSigner();\n    setSigner(tempSigner);\n    let tempContract = new ethers.Contract(contractAddress, simple_token_abi, tempSigner);\n    setContract(tempContract);\n  };\n\n  const createAccount = async () => {\n    let txt = await contract.createAcc();\n    console.log(txt);\n    setAccStatus(\"Your Account is created\");\n  };\n\n  const checkAccountExists = async () => {\n    let txt = await contract.accountExists();\n\n    if (txt == true) {\n      setCheckAcc(\"true\");\n    }\n  };\n\n  const AccountBalance = async () => {\n    let txt = await contract.accountBalance();\n    let balanceNumber = txt.toNumber();\n    console.log(balanceNumber);\n    setAccBalance('' + balanceNumber);\n  };\n\n  const DepositBalance = async e => {\n    e.preventDefault();\n    let depositAmount = e.target.depositAmount.value;\n    let txt = await contract.deposit({\n      value: depositAmount\n    });\n  };\n\n  const WithdrawBalance = async e => {\n    e.preventDefault();\n    let withdrawAmount = e.target.withdrawAmount.value;\n    let txt = await contract.withdraw(withdrawAmount);\n    console.log(txt);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Bank Dapp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.connectButton,\n        onClick: connectWalletHandler,\n        children: connButtonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles.section,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Account Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.walletCard,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Address: \", defaultAccount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.balanceButton,\n          onClick: AccountBalance,\n          children: \"Check Balance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Balance: \", accbalance, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.error,\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 26\n        }, this), accStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.success,\n          children: accStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles.section,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Interactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.interactionsCard,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.interactionButton,\n          onClick: createAccount,\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.interactionButton,\n          onClick: checkAccountExists,\n          children: \"Check Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", checkAcc]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles.section,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Deposit & Withdraw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.interactionsCard,\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: DepositBalance,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"depositAmount\",\n            children: \"Deposit Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"depositAmount\",\n            min: \"0\",\n            step: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: styles.actionButton,\n            children: \"Deposit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: WithdrawBalance,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"withdrawAmount\",\n            children: \"Withdraw Amount:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"withdrawAmount\",\n            min: \"0\",\n            step: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: styles.actionButton,\n            children: \"Withdraw\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 3\n  }, this);\n};\n\n_s(BankApp, \"XAlnTf6oC4Y3rTZNtz/atZF5TCM=\");\n\n_c = BankApp;\nexport default BankApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"BankApp\");","map":{"version":3,"sources":["C:/Users/BommaliGauthamnaidu/Downloads/Module2_Chapter4/src/BankApp.js"],"names":["React","useState","useEffect","ethers","styles","simple_token_abi","BankApp","contractAddress","errorMessage","setErrorMessage","defaultAccount","setDefaultAccount","connButtonText","setConnButtonText","provider","setProvider","signer","setSigner","contract","setContract","transferHash","setTransferHash","checkAcc","setCheckAcc","accStatus","setAccStatus","accbalance","setAccBalance","connectWalletHandler","window","ethereum","isMetaMask","request","method","then","result","accountChangedHandler","catch","error","message","console","log","newAccount","updateEthers","chainChangedHandler","location","reload","on","tempProvider","providers","Web3Provider","tempSigner","getSigner","tempContract","Contract","createAccount","txt","createAcc","checkAccountExists","accountExists","AccountBalance","accountBalance","balanceNumber","toNumber","DepositBalance","e","preventDefault","depositAmount","target","value","deposit","WithdrawBalance","withdrawAmount","withdraw","container","header","title","connectButton","section","walletCard","balanceButton","success","interactionsCard","interactionButton","actionButton"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport styles from './Bank.module.css';\r\nimport simple_token_abi from './Contracts/bank_app_abi.json';\r\n\r\nconst BankApp = () => {\r\n \r\n let contractAddress = '0x5FbDB2315678afecb367f032d93F642f64180aa3';\r\n\r\n const [errorMessage, setErrorMessage] = useState(null);\r\n const [defaultAccount, setDefaultAccount] = useState(null);\r\n const [connButtonText, setConnButtonText] = useState('Connect Wallet');\r\n\r\n const [provider, setProvider] = useState(null);\r\n const [signer, setSigner] = useState(null);\r\n const [contract, setContract] = useState(null);\r\n\r\n const [transferHash, setTransferHash] = useState(null);\r\n const [checkAcc, setCheckAcc] = useState(\"false\");\r\n const [accStatus, setAccStatus]= useState(\"\");\r\n const [accbalance, setAccBalance]= useState(\"\");\r\n\r\n const connectWalletHandler = () => {\r\n   if (window.ethereum && window.ethereum.isMetaMask) {\r\n\r\n     window.ethereum.request({ method: 'eth_requestAccounts'})\r\n     .then(result => {\r\n       accountChangedHandler(result[0]);\r\n       setConnButtonText('Wallet Connected');\r\n     })\r\n     .catch(error => {\r\n       setErrorMessage(error.message);\r\n     \r\n     });\r\n\r\n   } else {\r\n     console.log('Need to install MetaMask');\r\n     setErrorMessage('Please install MetaMask browser extension');\r\n   }\r\n }\r\n\r\n\r\n const accountChangedHandler = (newAccount) => {\r\n   setDefaultAccount(newAccount);\r\n   updateEthers();\r\n }\r\n const chainChangedHandler = () => {\r\n   \r\n   window.location.reload();\r\n }\r\n\r\n window.ethereum.on('accountsChanged', accountChangedHandler);\r\n\r\n window.ethereum.on('chainChanged', chainChangedHandler);\r\n\r\n const updateEthers = () => {\r\n   let tempProvider = new ethers.providers.Web3Provider(window.ethereum);\r\n   setProvider(tempProvider);\r\n\r\n   let tempSigner = tempProvider.getSigner();\r\n   setSigner(tempSigner);\r\n\r\n   let tempContract = new ethers.Contract(contractAddress, simple_token_abi, tempSigner);\r\n   setContract(tempContract);\t\r\n }\r\n\r\n const createAccount = async()=>{\r\n   let txt = await contract.createAcc();\r\n   console.log(txt);\r\n   setAccStatus(\"Your Account is created\");\r\n }\r\n const checkAccountExists = async()=>{\r\n   let txt = await contract.accountExists();\r\n   if(txt==true){\r\n   setCheckAcc(\"true\");\r\n   }\r\n }\r\n const AccountBalance = async()=>{\r\n   let txt= await contract.accountBalance();\r\n   let balanceNumber = txt.toNumber();\r\n   console.log(balanceNumber)\r\n   setAccBalance(''+balanceNumber);\r\n }\r\n const DepositBalance = async(e)=>{\r\n   e.preventDefault();\r\n   let depositAmount = e.target.depositAmount.value;\r\n   let txt= await contract.deposit({\r\n     value: depositAmount \r\n   });\r\n }\r\n\r\n const WithdrawBalance = async(e)=>{\r\n   e.preventDefault();\r\n   let withdrawAmount = e.target.withdrawAmount.value;\r\n   let txt= await contract.withdraw(withdrawAmount);\r\n   console.log(txt);\r\n }\r\n\r\n\r\n return (\r\n  <div className={styles.container}>\r\n    <header className={styles.header}>\r\n      <h1 className={styles.title}>Bank Dapp</h1>\r\n      <button className={styles.connectButton} onClick={connectWalletHandler}>\r\n        {connButtonText}\r\n      </button>\r\n    </header>\r\n\r\n    <section className={styles.section}>\r\n      <h2>Account Info</h2>\r\n      <div className={styles.walletCard}>\r\n        <p>Address: {defaultAccount}</p>\r\n        <button className={styles.balanceButton} onClick={AccountBalance}>\r\n          Check Balance\r\n        </button>\r\n        <p>Balance: {accbalance} </p>\r\n        {errorMessage && <div className={styles.error}>{errorMessage}</div>}\r\n        {accStatus && <div className={styles.success}>{accStatus}</div>}\r\n      </div>\r\n    </section>\r\n\r\n    <section className={styles.section}>\r\n      <h2>Interactions</h2>\r\n      <div className={styles.interactionsCard}>\r\n        <button className={styles.interactionButton} onClick={createAccount}>\r\n          Create Account\r\n        </button>\r\n        <button className={styles.interactionButton} onClick={checkAccountExists}>\r\n          Check Account\r\n        </button>\r\n        <p>Status: {checkAcc}</p>\r\n      </div>\r\n    </section>\r\n\r\n    <section className={styles.section}>\r\n      <h2>Deposit & Withdraw</h2>\r\n      <div className={styles.interactionsCard}>\r\n        <form onSubmit={DepositBalance}>\r\n          <label htmlFor=\"depositAmount\">Deposit Amount:</label>\r\n          <input type=\"number\" id=\"depositAmount\" min=\"0\" step=\"1\" />\r\n          <button type=\"submit\" className={styles.actionButton}>\r\n            Deposit\r\n          </button>\r\n        </form>\r\n\r\n        <form onSubmit={WithdrawBalance}>\r\n          <label htmlFor=\"withdrawAmount\">Withdraw Amount:</label>\r\n          <input type=\"number\" id=\"withdrawAmount\" min=\"0\" step=\"1\" />\r\n          <button type=\"submit\" className={styles.actionButton}>\r\n            Withdraw\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  </div>\r\n);\r\n};\r\n\r\nexport default BankApp;\r\n"]},"metadata":{},"sourceType":"module"}